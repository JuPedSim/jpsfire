<?xml version="1.0" encoding="UTF-8" ?>

<JuPedSim project="JPS-Project" version="0.8"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:noNamespaceSchemaLocation="../../xsd/jps_ini_core.xsd">

  <!-- seed used for initialising random generator -->
  <seed>12542</seed>
  <max_sim_time>1800</max_sim_time>
  <num_threads>4</num_threads>
  <show_statistics>true</show_statistics>
  <logfile>log.txt</logfile>
  <!-- geometry file -->
  <geometry>CS1_geo.xml</geometry>
  <!-- trajectories file and format -->
  <trajectories format="xml-plain" fps="8">
    <file location="CS1_traj.xml" />
    <!--<socket hostname="127.0.0.1" port="8989"/> -->
  </trajectories>
  <!-- where to store the logs -->
  <!--<logfile>log.txt</logfile> -->
  
  
  <show_statistics>true</show_statistics>
  <logfile>log.txt</logfile>
  
  <!-- configuration of fire simulation input -->
  <JPSfire>
      <A_smoke_sensor smoke_factor_grids="../FDS/3_sfgrids/" update_time="10.0" final_time="100.0" />
      <!-- <_B_walking_speed extinction_grids="../FDS/2_extinction_grids/SOOT_EXTINCTION_COEFFICIENT/" -->
      <!-- update_time="20.0" final_time="120.0" study="Frantzich+Nilsson2003" irritant="false"/> -->
      
  </JPSfire>

  <!-- traffic information: e.g closed doors -->
  <traffic_constraints>
      <door trans_id="0" caption="Other gate" state="open" />
      <door trans_id="1" caption="Other gate" state="open" />
      <door trans_id="2" caption="Main gate" state="open" />
      <door trans_id="3" caption="Other gate" state="open" />
  </traffic_constraints>

  <routing>
  </routing>

  <!--persons information and distribution -->
  <agents operational_model_id="3">
    <agents_distribution>
      <group group_id="1" agent_parameter_id="1" room_id="0" subroom_id="2" number="1500" goal_id="-1" router_id="1"  pre_movement_mean="00"   pre_movement_sigma="0" risk_tolerance_alpha="12.0" risk_tolerance_beta="7.0"/>
    </agents_distribution>
  </agents>

<!-- These parameters may be overwritten -->
<!-- These parameters may be overwritten -->
<operational_models>
    <model operational_model_id="3" description="Tordeux2015">
        <model_parameters>
            <solver>euler</solver>
            <stepsize>0.05</stepsize>
            <exit_crossing_strategy>3</exit_crossing_strategy>
            <linkedcells enabled="true" cell_size="2" />
            <force_ped a="5" D="0.2"/>
            <force_wall a="5" D="0.02"/>
        </model_parameters>
        <agent_parameters agent_parameter_id="1">
            <v0 mu="1.19" sigma="0.25" />
            <v0_upstairs mu="0.668" sigma="0.167" />
            <v0_downstairs mu="0.750" sigma="0.188" />
            <v0_idle_escalator_upstairs mu="0.5" sigma="0.0" />
            <v0_idle_escalator_downstairs mu="0.5" sigma="0.0" />
            <bmax mu="0.24" sigma="0.0" />
            <bmin mu="0.23" sigma="0.0" />
            <amin mu="0.18" sigma="0.0" />
            <tau mu="0.5" sigma="0.0" />
            <atau mu="0.0" sigma="0.0" />
            <T mu="1" sigma="0.0" />
        </agent_parameters>
    </model>
</operational_models>

<!-- route choice models -->
    <route_choice_models>
        
        <router router_id="1" description="AI">
            <sensors>
                <sensor sensor_id="2" description="Smoke" status="activated"/>
            </sensors>
            <cognitive_map status="complete"/>
            <parameters>
              <navigation_lines file="CS1_geo_routing.xml" />
            </parameters>
        </router>
        
    </route_choice_models>

</JuPedSim>
